---
//import SearchBar from "../components/SearchBar.astro";
---

<header
  id="header"
  class="fixed left-0 right-0 top-0 z-30 flex h-[var(--header-height)] bg-white shadow-lg transition-transform duration-300"
>
<div class="relative flex w-full items-center justify-around p-5">

  <button
    id="menu-toggle"
    class="absolute left-10 z-30 h-10 w-10 flex justify-center items-center text-2xl pb-1 rounded-md bg-gray-100 text-gray-700 hover:bg-gray-200 focus:outline-none"
  >
    â˜°
  </button>
  <div class="flex items-center space-x-4">
      <a href="/" class="absolute translate-y-4 h-20 w-20 text-xl z-20 font-bold text-gray-800 border-[5px] border-white rounded-full shadow-md">
        <img
          src="../../logo-apple-mdp.jpg"
          alt="Logo empresa"
          class="h-full w-auto object-contain rounded-full"
        />
      </a>
    </div>
    <div class="flex space-x-3">
      <a
        href="/products"
        class="place-content-center text-sm text-gray-400 hover:text-gray-600 focus:text-gray-600"
      >
        Boton 1
      </a>
      <a
        href="/commerces"
        class="place-content-center text-sm text-gray-400 hover:text-gray-600 focus:text-gray-600"
      >
        Boton 2
      </a>
    </div>
    <!-- <SearchBar /> -->

    <nav class="place-content-center">
      <ul class="flex space-x-4">
        <li>
          <a href="/profile" class="text-bold text-gray-600 hover:text-gray-800"
            >Perfil</a
          >
        </li>
        <!--Ver de reemplar Perfil por el nombre del user -->
        <li>
          <a
            href={`${import.meta.env.PUBLIC_API_URL}/api/user/logout`}
            class="text-bold text-gray-600 hover:text-gray-800">Logout</a
          >
        </li>
      </ul>
    </nav>
  </div>
</header>

<!-- Slide-out panel -->
<aside
  id="slider"
  class="fixed left-0 pt-16 z-10 h-full w-56 transform bg-white shadow-lg transition-transform duration-200"
>

  <div class="flex items-center justify-between p-4 pt-8">
    <h2 class="text-lg font-semibold text-gray-700">Menu</h2>
  </div>

  <nav class="flex flex-col space-y-4 p-4 text-gray-500">
    <div class="my-3">
      <a href="/" class="flex text-sm font-medium hover:text-gray-800 hover:bg-gray-100 rounded-md p-3 pl-5 w-full items-center">
        <span class="opacity-65">
          <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="20" height="20">
            <path d="M21,7.5c0,.276-.224,.5-.5,.5h-3c-.276,0-.5-.224-.5-.5s.224-.5,.5-.5h3c.276,0,.5,.224,.5,.5Zm-.5,2.5h-3c-.276,0-.5,.224-.5,.5s.224,.5,.5,.5h3c.276,0,.5-.224,.5-.5s-.224-.5-.5-.5Zm0,3h-3c-.276,0-.5,.224-.5,.5s.224,.5,.5,.5h3c.276,0,.5-.224,.5-.5s-.224-.5-.5-.5Zm0,3h-3c-.276,0-.5,.224-.5,.5s.224,.5,.5,.5h3c.276,0,.5-.224,.5-.5s-.224-.5-.5-.5Zm3.5-8.5v9c0,2.481-2.019,4.5-4.5,4.5H4.5c-2.481,0-4.5-2.019-4.5-4.5V7.5C0,5.019,2.019,3,4.5,3h15c2.481,0,4.5,2.019,4.5,4.5Zm-1,0c0-1.93-1.57-3.5-3.5-3.5H4.5c-1.93,0-3.5,1.57-3.5,3.5v9c0,1.93,1.57,3.5,3.5,3.5h15c1.93,0,3.5-1.57,3.5-3.5V7.5Zm-8,4.5c0,3.309-2.691,6-6,6s-6-2.691-6-6,2.691-6,6-6,6,2.691,6,6Zm-6,5c1.198,0,2.284-.441,3.146-1.146l-3.207-3.207c-.283-.283-.439-.66-.439-1.061V7.051c-2.52,.255-4.5,2.364-4.5,4.949,0,2.757,2.243,5,5,5Zm5-5c0-2.586-1.98-4.694-4.5-4.949v4.535c0,.131,.054,.26,.146,.354l3.207,3.207c.706-.862,1.147-1.948,1.147-3.147Z"/>
          </svg>
        </span>
        <div class="w-full pl-4">Dashboard</div>
      </a>
    </div>

    <div class="flex flex-col my-3">
      <p class="text-slate-400 text-xs pb-2"> Operaciones </p>
      <a href="/inventory" class="flex text-sm font-medium hover:text-gray-800 hover:bg-gray-100 rounded-md p-3 pl-5 w-full items-center">
        <span class="opacity-65">
          <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="20" height="20"><path d="M15.5,24h-7c-2.481,0-4.5-2.019-4.5-4.5V4.5C4,2.019,6.019,0,8.5,0h7c2.481,0,4.5,2.019,4.5,4.5v15c0,2.481-2.019,4.5-4.5,4.5ZM8.5,1c-1.93,0-3.5,1.57-3.5,3.5v15c0,1.93,1.57,3.5,3.5,3.5h7c1.93,0,3.5-1.57,3.5-3.5V4.5c0-1.93-1.57-3.5-3.5-3.5h-7Zm5.5,19.5c0-.276-.224-.5-.5-.5h-3c-.276,0-.5,.224-.5,.5s.224,.5,.5,.5h3c.276,0,.5-.224,.5-.5Z"/>
          </svg>
        </span>
        <div class="w-full pl-4">Inventario</div>
      </a>
      <a href="/sale" class="flex text-sm font-medium hover:text-gray-800 hover:bg-gray-100 rounded-md p-3 pl-5 w-full items-center">
        <span class="opacity-65">
          <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="20" height="20"><path d="M23.38,8.85c-.47-.54-1.16-.85-1.88-.85h-.56C20.44,3.48,16.6,0,12,0S3.56,3.48,3.06,8h-.56c-.72,0-1.41,.31-1.88,.85-.47,.54-.69,1.26-.6,1.98l1.12,8.4c.36,2.72,2.71,4.77,5.45,4.77h10.81c2.75,0,5.09-2.05,5.45-4.77l1.12-8.4c.09-.71-.12-1.44-.6-1.98ZM12,1c4.05,0,7.44,3.03,7.94,7H4.06c.49-3.97,3.88-7,7.94-7Zm10.99,9.7l-1.12,8.4c-.3,2.23-2.21,3.91-4.46,3.91H6.59c-2.25,0-4.16-1.68-4.46-3.91L1.01,10.7c-.06-.43,.07-.86,.36-1.19s.7-.51,1.13-.51H21.5c.43,0,.84,.19,1.13,.51s.42,.76,.36,1.19Z"/></svg>
        </span>
        <div class="w-full pl-4">Ventas</div>
      </a>
      <a href="/expense" class="flex text-sm font-medium hover:text-gray-800 hover:bg-gray-100 rounded-md p-3 pl-5 w-full items-center">
        <span class="opacity-65">
          <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="20" height="20">
            <path d="m4.5,12c-.276,0-.5-.224-.5-.5s.224-.5.5-.5h1c.276,0,.5.224.5.5s-.224.5-.5.5h-1Zm5,0c.276,0,.5-.224.5-.5s-.224-.5-.5-.5h-1c-.276,0-.5.224-.5.5s.224.5.5.5h1Zm3,4.5c0-.276-.224-.5-.5-.5h-5c-.276,0-.5.224-.5.5s.224.5.5.5h2v6.5c0,.276.224.5.5.5s.5-.224.5-.5v-6.5h2c.276,0,.5-.224.5-.5Zm-6,6.5h-2c-1.93,0-3.5-1.57-3.5-3.5V4.5c0-1.93,1.57-3.5,3.5-3.5h13c1.93,0,3.5,1.57,3.5,3.5v9c0,.276.224.5.5.5s.5-.224.5-.5V4.5c0-2.481-2.019-4.5-4.5-4.5H4.5C2.019,0,0,2.019,0,4.5v15c0,2.481,2.019,4.5,4.5,4.5h2c.276,0,.5-.224.5-.5s-.224-.5-.5-.5Zm11-12h-1c-.276,0-.5.224-.5.5s.224.5.5.5h1c.276,0,.5-.224.5-.5s-.224-.5-.5-.5Zm.5-5.5v1c0,.827-.673,1.5-1.5,1.5H5.5c-.827,0-1.5-.673-1.5-1.5v-1c0-.827.673-1.5,1.5-1.5h11c.827,0,1.5.673,1.5,1.5Zm-1,0c0-.276-.225-.5-.5-.5H5.5c-.275,0-.5.224-.5.5v1c0,.276.225.5.5.5h11c.275,0,.5-.224.5-.5v-1Zm5.076,14.5l1.858-3.252c.137-.24.054-.545-.187-.682-.237-.138-.544-.056-.683.186l-1.565,2.74-1.565-2.74c-.139-.242-.446-.324-.683-.186-.24.137-.323.442-.187.682l1.858,3.252-1.858,3.252c-.137.24-.054.545.187.682.078.045.163.066.248.066.173,0,.342-.09.435-.252l1.565-2.74,1.565,2.74c.093.162.262.252.435.252.085,0,.17-.021.248-.066.24-.137.323-.442.187-.682l-1.858-3.252Zm-5.76-2.962l1.667,6.334c.07.267-.112.627-.483.627-.222,0-.425-.148-.483-.373l-.428-1.627h-3.177l-.428,1.627c-.07.267-.346.426-.61.356-.268-.07-.427-.344-.356-.611l1.667-6.334c.16-.607.688-1.015,1.316-1.015s1.156.408,1.316,1.015Zm.009,3.962l-.976-3.707c-.066-.25-.284-.27-.35-.27s-.283.019-.35.27l-.976,3.707h2.65Zm-2.825-9c.276,0,.5-.224.5-.5s-.224-.5-.5-.5h-1c-.276,0-.5.224-.5.5s.224.5.5.5h1Z"/>
          </svg>
        </span>
        <div class="w-full pl-4">Gastos</div>
      </a>
    </div>

    <div class="flex flex-col my-3">
      <p class="text-slate-400 text-xs pb-2"> Servicio Tecnico </p>
      <a href="/repair" class="flex text-sm font-medium hover:text-gray-800 hover:bg-gray-100 rounded-md p-3 pl-5 w-full items-center">
        <span class="opacity-65">
          <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="20" height="20">
            <path d="m23.707,5.568c-.134-.499-.511-.877-1.009-1.009-.491-.131-1,.006-1.357.369l-3.556,3.587c-.645.646-1.695.644-2.339,0-.312-.312-.484-.728-.484-1.17s.172-.856.486-1.171l3.543-3.573c.358-.361.492-.871.358-1.362-.136-.496-.514-.869-1.012-.999-1.058-.275-2.149-.314-3.244-.116-2.927.532-5.32,2.843-5.954,5.751-.257,1.177-.229,2.359.082,3.512.153.566.016,1.133-.368,1.515L.954,18.777c-1.136,1.134-1.271,2.942-.307,4.117.54.658,1.353,1.105,2.331,1.105.794,0,1.563-.315,2.127-.878l8.021-8c.379-.378.939-.516,1.5-.368,1.16.306,2.347.323,3.524.054,2.899-.659,5.188-3.066,5.695-5.987.191-1.1.145-2.193-.139-3.252Zm-.846,3.08c-.439,2.529-2.421,4.613-4.932,5.185-1.021.23-2.046.218-3.048-.046-.907-.237-1.827-.004-2.46.627l-8.021,7.999c-.4.399-.954.613-1.521.584-.573-.028-1.091-.29-1.458-.737-.641-.781-.535-2,.241-2.774l7.897-7.875c.64-.639.875-1.567.627-2.483-.27-.997-.293-2.02-.07-3.039.549-2.519,2.621-4.52,5.155-4.979.399-.072.797-.108,1.192-.108.547,0,1.09.069,1.622.207.212.056.28.226.299.296.019.068.046.243-.103.395l-3.542,3.572c-.501.501-.777,1.167-.777,1.876s.276,1.376.777,1.877c1.035,1.036,2.719,1.035,3.754-.002l3.558-3.589c.149-.149.322-.124.39-.105.071.019.242.086.3.302.246.916.286,1.865.12,2.82Z"/>
          </svg>
        </span>
        <div class="w-full pl-4">Reparaciones</div>
      </a>      
      <a href="/technician" class="flex text-sm font-medium hover:text-gray-800 hover:bg-gray-100 rounded-md p-3 pl-5 w-full items-center">
        <span class="opacity-65">
          <svg id="Layer_1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="20" height="20"><path d="m13.993 7h.994v-1h-.998l-.002-.552c0-3.004-2.445-5.448-5.45-5.448h-1.1c-3.005 0-5.45 2.445-5.45 5.452l.002.548h-1.002v1h1.006l.007 2c0 3.309 2.691 6 6 6s6-2.691 6-6.002zm-11.006-1.55c0-1.943 1.26-3.582 3-4.187v2.737h1v-2.955c.15-.015.296-.045.45-.045h1.1c.154 0 .3.03.45.046v2.954h1v-2.737c1.74.605 3 2.244 3 4.187l.002.55h-10zm5.013 8.55c-2.757 0-5-2.243-5-5.002l-.007-1.998h10l.007 2c0 2.757-2.243 5-5 5zm-3 2h6v1h-6c-2.206 0-4 1.794-4 4v3h-1v-3c0-2.757 2.243-5 5-5zm19 .5c0 2.071-1.167 3.958-3 4.894v2.606h-1v-3.249c1.781-.661 3.01-2.346 3-4.251 0-1.516-.765-2.911-2-3.737v1.737c0 1.378-1.122 2.5-2.5 2.5s-2.5-1.122-2.5-2.5v-1.737c-1.235.826-2 2.221-2 3.737-.01 1.905 1.219 3.59 3 4.251v3.249h-1v-2.606c-1.833-.937-3-2.823-3-4.894-.028-2.485 1.69-4.559 4-5.343v3.343c0 .827.673 1.5 1.5 1.5s1.5-.673 1.5-1.5v-3.343c2.31.784 4.028 2.858 4 5.343z"/></svg>
        </span>
        <div class="w-full pl-4">Tecnico</div>
      </a>
      <a href="/dashboardst" class="flex text-sm font-medium hover:text-gray-800 hover:bg-gray-100 rounded-md p-3 pl-5 w-full items-center">
        <span class="opacity-65">
          <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="20" height="20">
            <path d="M21,7.5c0,.276-.224,.5-.5,.5h-3c-.276,0-.5-.224-.5-.5s.224-.5,.5-.5h3c.276,0,.5,.224,.5,.5Zm-.5,2.5h-3c-.276,0-.5,.224-.5,.5s.224,.5,.5,.5h3c.276,0,.5-.224,.5-.5s-.224-.5-.5-.5Zm0,3h-3c-.276,0-.5,.224-.5,.5s.224,.5,.5,.5h3c.276,0,.5-.224,.5-.5s-.224-.5-.5-.5Zm0,3h-3c-.276,0-.5,.224-.5,.5s.224,.5,.5,.5h3c.276,0,.5-.224,.5-.5s-.224-.5-.5-.5Zm3.5-8.5v9c0,2.481-2.019,4.5-4.5,4.5H4.5c-2.481,0-4.5-2.019-4.5-4.5V7.5C0,5.019,2.019,3,4.5,3h15c2.481,0,4.5,2.019,4.5,4.5Zm-1,0c0-1.93-1.57-3.5-3.5-3.5H4.5c-1.93,0-3.5,1.57-3.5,3.5v9c0,1.93,1.57,3.5,3.5,3.5h15c1.93,0,3.5-1.57,3.5-3.5V7.5Zm-8,4.5c0,3.309-2.691,6-6,6s-6-2.691-6-6,2.691-6,6-6,6,2.691,6,6Zm-6,5c1.198,0,2.284-.441,3.146-1.146l-3.207-3.207c-.283-.283-.439-.66-.439-1.061V7.051c-2.52,.255-4.5,2.364-4.5,4.949,0,2.757,2.243,5,5,5Zm5-5c0-2.586-1.98-4.694-4.5-4.949v4.535c0,.131,.054,.26,.146,.354l3.207,3.207c.706-.862,1.147-1.948,1.147-3.147Z"/>
          </svg>
        </span>
        <div class="w-full pl-4">Dashboard ST</div>
      </a>
    </div>

    <div class="flex flex-col my-3">
      <p class="text-slate-400 text-xs pb-2"> Gestion </p>
      <a href="/client" class="flex text-sm font-medium hover:text-gray-800 hover:bg-gray-100 rounded-md p-3 pl-5 w-full items-center">
        <span class="opacity-65">
          <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="20" height="20">
            <path d="m17.979,23.359c.078.265-.073.542-.339.62-.047.014-.094.021-.141.021-.217,0-.416-.141-.479-.359-.631-2.144-2.695-3.641-5.021-3.641s-4.39,1.497-5.021,3.641c-.077.266-.357.416-.62.339-.266-.078-.417-.355-.339-.62.754-2.567,3.213-4.359,5.979-4.359s5.226,1.792,5.979,4.359Zm6-9c-.754-2.567-3.213-4.359-5.979-4.359-.276,0-.5.224-.5.5s.224.5.5.5c2.325,0,4.39,1.497,5.021,3.641.063.219.263.359.479.359.047,0,.094-.007.141-.021.266-.078.417-.355.339-.62Zm-17.479-3.859c0-.276-.224-.5-.5-.5C3.233,10,.774,11.792.021,14.359c-.078.265.073.542.339.62.047.014.094.021.141.021.217,0,.416-.141.479-.359.631-2.144,2.695-3.641,5.021-3.641.276,0,.5-.224.5-.5Zm5.5-1.5c2.206,0,4,1.794,4,4s-1.794,4-4,4-4-1.794-4-4,1.794-4,4-4Zm-3,4c0,1.654,1.346,3,3,3s3-1.346,3-3-1.346-3-3-3-3,1.346-3,3Zm5-9c0-2.206,1.794-4,4-4s4,1.794,4,4-1.794,4-4,4-4-1.794-4-4Zm1,0c0,1.654,1.346,3,3,3s3-1.346,3-3-1.346-3-3-3-3,1.346-3,3Zm-13,0C2,1.794,3.794,0,6,0s4,1.794,4,4-1.794,4-4,4-4-1.794-4-4Zm1,0c0,1.654,1.346,3,3,3s3-1.346,3-3-1.346-3-3-3-3,1.346-3,3Z"/>
          </svg>
        </span>
        <div class="w-full pl-4">Clientes</div>
      </a>
      <a href="/seller" class="flex text-sm font-medium hover:text-gray-800 hover:bg-gray-100 rounded-md p-3 pl-5 w-full items-center">
        <span class="opacity-65">
          <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="20" height="20">
            <path d="m24,16.935l-1.642-4.935h-9.717l-1.642,4.935c0,.748.403,1.398,1,1.76v5.305h11v-5.305c.597-.363,1-1.013,1-1.76Zm-10.642-3.935h1.642v2h1v-2h3v2h1v-2h1.642l1.355,4.009c-.038.553-.5.991-1.062.991h-.869c-.607,0-1.065-.43-1.065-1h-1c0,.57-.458,1-1.065,1h-.869c-.607,0-1.065-.43-1.065-1h-1c0,.57-.458,1-1.065,1h-.869c-.562,0-1.024-.438-1.062-.991l1.355-4.009Zm8.642,10h-9v-4.007c.022,0,.043.007.065.007h.869c.636,0,1.189-.271,1.565-.695.376.425.929.695,1.565.695h.869c.636,0,1.189-.271,1.565-.695.376.425.929.695,1.565.695h.869c.022,0,.043-.006.065-.007v4.007Zm-14-11c3.309,0,6-2.691,6-6S11.309,0,8,0,2,2.691,2,6s2.691,6,6,6Zm0-11c2.757,0,5,2.243,5,5s-2.243,5-5,5-5-2.243-5-5S5.243,1,8,1Zm1.854,13l-.338,1h-4.516c-2.206,0-4,1.794-4,4v5H0v-5c0-2.757,2.243-5,5-5h4.854Z"/>
          </svg>
        </span>
        <div class="w-full pl-4">Vendedores</div>
      </a>
      <a href="/provider" class="flex text-sm font-medium hover:text-gray-800 hover:bg-gray-100 rounded-md p-3 pl-5 w-full items-center">
        <span class="opacity-65">
          <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="20" height="20">
            <path d="m24,16.935l-1.642-4.935h-9.717l-1.642,4.935c0,.748.403,1.398,1,1.76v5.305h11v-5.305c.597-.363,1-1.013,1-1.76Zm-10.642-3.935h1.642v2h1v-2h3v2h1v-2h1.642l1.355,4.009c-.038.553-.5.991-1.062.991h-.869c-.607,0-1.065-.43-1.065-1h-1c0,.57-.458,1-1.065,1h-.869c-.607,0-1.065-.43-1.065-1h-1c0,.57-.458,1-1.065,1h-.869c-.562,0-1.024-.438-1.062-.991l1.355-4.009Zm8.642,10h-9v-4.007c.022,0,.043.007.065.007h.869c.636,0,1.189-.271,1.565-.695.376.425.929.695,1.565.695h.869c.636,0,1.189-.271,1.565-.695.376.425.929.695,1.565.695h.869c.022,0,.043-.006.065-.007v4.007Zm-14-11c3.309,0,6-2.691,6-6S11.309,0,8,0,2,2.691,2,6s2.691,6,6,6Zm0-11c2.757,0,5,2.243,5,5s-2.243,5-5,5-5-2.243-5-5S5.243,1,8,1Zm1.854,13l-.338,1h-4.516c-2.206,0-4,1.794-4,4v5H0v-5c0-2.757,2.243-5,5-5h4.854Z"/>
          </svg>
        </span>
        <div class="w-full pl-4">Proveedores</div>
      </a>
    </div>
    
    <div class="my-3">
      <a href="/profile" class="flex text-sm font-medium hover:text-gray-800 hover:bg-gray-100 rounded-md p-3 pl-5 mt-4 w-full">Perfil</a>
    </div>
  </nav>
</aside>

<script>
  let lastScrollTop = 0;
  const header = document.getElementById("header");

  window.addEventListener("scroll", () => {
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

    if (scrollTop > lastScrollTop && scrollTop > 100) {
      // Scrolling down and past the top
      header?.classList.add("-translate-y-full");
    } else {
      // Scrolling up or at the top
      header?.classList.remove("-translate-y-full");
    }

    lastScrollTop = scrollTop;
  });
</script>

<script>
  const slider = document.getElementById("slider");
  const toggleButton = document.getElementById("menu-toggle");
  const closeButton = document.getElementById("close-slider");

  toggleButton?.addEventListener("click", () => {
    slider?.classList.toggle("-translate-x-full");
  });

  closeButton?.addEventListener("click", () => {
    slider?.classList.add("-translate-x-full");
  });
</script>
