---
const pathname = Astro.url.pathname;

const navItems = [
  { href: "/profile", label: "Resumen" },
  { href: "/profile/user", label: "Perfil personal" },
  { href: "/profile/bussines", label: "Preferencias de empresa" },
] as const;

const linkClass = (href: string) => {
  const isActive = pathname === href;
  return [
    "flex items-center gap-2 rounded-xl px-3 py-2 font-medium transition",
    isActive ? "bg-slate-100 text-slate-900" : "text-slate-700 hover:bg-slate-50 hover:text-slate-900",
  ].join(" ");
};
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Perfil</title>
    <link rel="icon" href="/favicon-32x32.png" />
  </head>

  <body class="min-h-screen bg-muted/40 mx-5">
    <!-- Fondo cÃ¡lido tipo dashboard -->
    <div class="min-h-screen bg-[radial-gradient(ellipse_at_top,_rgba(253,230,220,0.55),_transparent_60%),radial-gradient(ellipse_at_bottom,_rgba(253,230,220,0.45),_transparent_55%)]">
      <main class="mx-auto w-full py-8 md:px-8">
        <header class="mb-6">
          <h1 class="text-3xl font-semibold tracking-tight text-slate-800">ConfiguraciÃ³n</h1>
          <p class="mt-1 text-sm text-slate-500">
            GestiÃ³n de tu cuenta y de tu empresa
          </p>
        </header>

        <div class="grid gap-6 md:grid-cols-[260px_1fr]">
          <!-- Sidebar Ãºnico -->
          <aside class="h-fit rounded-2xl border bg-white p-4 shadow-sm">
            <div class="mb-4">
              <div class="text-base font-semibold text-slate-800">MenÃº</div>
              <div class="text-xs text-slate-500">Perfil y preferencias</div>
            </div>

            <nav class="grid gap-1 text-sm">
              {navItems.map((item) => (
                <a href={item.href} class={linkClass(item.href)}>
                  <span class="inline-flex h-8 w-8 items-center justify-center rounded-xl bg-slate-100 text-slate-700">
                    {/* icono simple sin dependencias */}
                    {item.href === "/profile" ? "ğŸ " : item.href === "/profile/user" ? "ğŸ‘¤" : "ğŸ¢"}
                  </span>
                  <span class="truncate">{item.label}</span>
                </a>
              ))}
            </nav>
          </aside>

          <!-- Contenido -->
          <section class="min-w-0">
            <slot name="content" />
          </section>
        </div>
      </main>
    </div>
  </body>
</html>
